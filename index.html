<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zen Starry Night</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #050510;
            font-family: 'Quicksand', sans-serif;
        }

        canvas {
            display: block;
        }

        #ui {
            position: absolute;
            top: 30px;
            left: 30px;
            color: rgba(255, 255, 255, 0.8);
            pointer-events: none;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        #score-label {
            font-size: 24px;
            letter-spacing: 2px;
        }

        #overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle, rgba(10, 10, 30, 0.4) 0%, rgba(5, 5, 15, 0.9) 100%);
            transition: opacity 1s;
        }

        .container {
            text-align: center;
            color: white;
            max-width: 500px;
            padding: 40px;
        }

        h1 {
            font-size: 48px;
            font-weight: 300;
            margin-bottom: 10px;
            letter-spacing: 8px;
            background: linear-gradient(to right, #fff, #7af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p {
            font-size: 18px;
            line-height: 1.6;
            color: #aabbff;
            margin-bottom: 30px;
        }

        button {
            background: transparent;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.4);
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 2px;
            backdrop-filter: blur(5px);
        }

        button:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: white;
            box-shadow: 0 0 20px rgba(100, 200, 255, 0.4);
        }

        .hidden {
            display: none !important;
            opacity: 0;
        }
    </style>
</head>
<body>

    <div id="ui">
        <div id="score-label">Cahaya: <span id="score">0</span></div>
    </div>

    <div id="overlay">
        <div class="container">
            <h1>ZEN STARRY NIGHT</h1>
            <p>Terbanglah dengan tenang di antara bintang. Kumpulkan stardust untuk menerangi kegelapan langit malam.</p>
            <button onclick="startExperience()">MULAI TERBANG</button>
        </div>
    </div>

    <script>
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        document.body.appendChild(canvas);

        let width, height;
        let isPlaying = false;
        let score = 0;
        let stardusts = [];
        let particles = [];
        let backgroundStars = [];
        
        const player = {
            x: 0,
            y: 0,
            targetX: 0,
            targetY: 0,
            radius: 8,
            trail: []
        };

        function init() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            player.x = width / 2;
            player.y = height / 2;
            player.targetX = width / 2;
            player.targetY = height / 2;
            
            // Buat bintang latar belakang (Parallax)
            backgroundStars = [];
            for(let i = 0; i < 200; i++) {
                backgroundStars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 2,
                    speed: Math.random() * 0.5 + 0.1,
                    brightness: Math.random()
                });
            }
        }

        window.addEventListener('resize', init);
        init();

        // Input mouse/touch
        window.addEventListener('mousemove', (e) => {
            player.targetX = e.clientX;
            player.targetY = e.clientY;
        });

        window.addEventListener('touchmove', (e) => {
            player.targetX = e.touches[0].clientX;
            player.targetY = e.touches[0].clientY;
        }, { passive: false });

        function startExperience() {
            document.getElementById('overlay').classList.add('hidden');
            isPlaying = true;
            score = 0;
            updateScore();
            spawnStardust();
            animate();
        }

        function spawnStardust() {
            if(!isPlaying) return;
            stardusts.push({
                x: Math.random() * width,
                y: Math.random() * height,
                radius: 4 + Math.random() * 4,
                pulse: 0,
                color: `hsl(${200 + Math.random() * 40}, 80%, 70%)`
            });
            setTimeout(spawnStardust, 1500);
        }

        function createBurst(x, y, color) {
            for(let i = 0; i < 15; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 6,
                    vy: (Math.random() - 0.5) * 6,
                    life: 1.0,
                    size: Math.random() * 3,
                    color: color
                });
            }
        }

        function updateScore() {
            document.getElementById('score').innerText = score;
        }

        function drawPlayer() {
            // Lerp pergerakan
            player.x += (player.targetX - player.x) * 0.1;
            player.y += (player.targetY - player.y) * 0.1;

            // Simpan jejak (Trail)
            player.trail.unshift({x: player.x, y: player.y});
            if(player.trail.length > 20) player.trail.pop();

            // Gambar Trail
            ctx.beginPath();
            ctx.lineWidth = 2;
            for(let i = 0; i < player.trail.length; i++) {
                const p = player.trail[i];
                const opacity = 1 - (i / player.trail.length);
                ctx.strokeStyle = `rgba(120, 180, 255, ${opacity * 0.5})`;
                if(i === 0) ctx.moveTo(p.x, p.y);
                else ctx.lineTo(p.x, p.y);
            }
            ctx.stroke();

            // Glow Efek
            ctx.shadowBlur = 20;
            ctx.shadowColor = "#7af";
            ctx.fillStyle = "#fff";
            ctx.beginPath();
            ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        function animate() {
            if(!isPlaying) return;

            // Clear dengan sedikit transparansi untuk efek motion blur
            ctx.fillStyle = "rgba(5, 5, 15, 0.2)";
            ctx.fillRect(0, 0, width, height);

            // Bintang Latar Belakang
            backgroundStars.forEach(s => {
                s.y += s.speed;
                if(s.y > height) s.y = 0;
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.abs(Math.sin(Date.now() * 0.001 * s.speed + s.brightness)) * 0.5})`;
                ctx.fillRect(s.x, s.y, s.size, s.size);
            });

            // Stardust (Targets)
            for(let i = stardusts.length - 1; i >= 0; i--) {
                const s = stardusts[i];
                s.pulse += 0.05;
                const currentSize = s.radius + Math.sin(s.pulse) * 2;

                ctx.shadowBlur = 15;
                ctx.shadowColor = s.color;
                ctx.fillStyle = s.color;
                ctx.beginPath();
                ctx.arc(s.x, s.y, currentSize, 0, Math.PI * 2);
                ctx.fill();

                // Cek Tabrakan
                const dist = Math.hypot(player.x - s.x, player.y - s.y);
                if(dist < 30) {
                    createBurst(s.x, s.y, s.color);
                    stardusts.splice(i, 1);
                    score += 10;
                    updateScore();
                }
            }
            ctx.shadowBlur = 0;

            // Partikel Ledakan
            for(let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.x += p.vx;
                p.y += p.vy;
                p.life -= 0.02;
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.life;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
                if(p.life <= 0) particles.splice(i, 1);
            }
            ctx.globalAlpha = 1.0;

            drawPlayer();
            requestAnimationFrame(animate);
        }

    </script>
</body>
</html>